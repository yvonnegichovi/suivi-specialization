<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Suivi Support Center</title>

    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">

    <!-- Font Awesome 6 (Optional, if needed for icons) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

    <!-- Your Custom Support CSS (Flask version) -->
    <link rel="stylesheet" href="{{ url_for('static', filename='styles/support.css') }}">

</head>

<body>

    {% include 'header.html'%}

    <main class="container my-5">

        <!-- Page Header -->
        <div class="text-center mb-5">
            <h1 class="display-5 section-title text-white">Support Center</h1>
            <p class="lead text-white">Need help? Find answers below or contact us directly.</p>
        </div>

        <!-- Flash messages -->
        <div class="row justify-content-center mb-4">
            <div class="col-md-8"> {# Limit width of flash messages #}
                {% with messages = get_flashed_messages(with_categories=true) %}
                {% if messages %}
                {% for category, message in messages %}
                <div class="alert alert-{{ category }} alert-dismissible fade show" role="alert">
                    {{ message }}
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                </div>
                {% endfor %}
                {% endif %}
                {% endwith %}
            </div>
        </div>

        <div class="row g-5">

            <!-- Contact Form Column - Change to col-lg-5 -->
            <div class="col-lg-5">
                <div class="card shadow-sm h-100"> {# Added h-100 for potential height matching #}
                    <div class="card-body p-4 p-md-5">
                        <h2 class="h4 mb-4 text-primary fw-bold">Contact Support</h2>
                        <p class="text-muted mb-4 small">Fill out the form below, and our team will get back to you as
                            soon as possible.</p>
                        <form id="support-form" name="Support Form" method="post"
                            action="{{ url_for('main.support') }}">
                            {{ form.hidden_tag() if form and form.hidden_tag }}
                            <div class="mb-3">
                                <label for="name" class="form-label">Name</label>
                                <input type="text" class="form-control form-control-sm" id="name" name="name"
                                    placeholder="Enter your name" required> {# Optional: form-control-sm #}
                            </div>
                            <div class="mb-3">
                                <label for="email" class="form-label">Email</label>
                                <input type="email" class="form-control form-control-sm" id="email" name="email"
                                    placeholder="Enter your email" required> {# Optional: form-control-sm #}
                            </div>
                            <div class="mb-4">
                                <label for="comment" class="form-label">Comment / Question</label>
                                <textarea class="form-control form-control-sm" id="comment" name="comment" rows="5"
                                    placeholder="Enter your comment or question..." required></textarea> {# Optional:
                                form-control-sm #}
                            </div>
                            <button type="submit" class="btn btn-primary w-100">Send Message</button> {# Removed btn-lg
                            #}
                        </form>
                    </div>
                </div>
            </div>

            <!-- FAQ Column - Change to col-lg-7 -->
            <div class="col-lg-7">
                <div class="faq-container">
                    <h2 class="h4 mb-4 text-primary fw-bold">Frequently Asked Questions</h2>
                    <div class="accordion" id="faqAccordion">

                        <!-- FAQ Item 1 -->
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingOne">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                    data-bs-target="#collapseOne" aria-expanded="false" aria-controls="collapseOne">
                                    What should I do if my delivery is delayed?
                                </button>
                            </h2>
                            <div id="collapseOne" class="accordion-collapse collapse" aria-labelledby="headingOne"
                                data-bs-parent="#faqAccordion">
                                <div class="accordion-body text-muted">
                                    Check the status in the app first. If there's no update or you're concerned, contact
                                    our support team. Delays can sometimes occur due to high demand, traffic, or
                                    unforeseen events, but we'll investigate promptly.
                                </div>
                            </div>
                        </div>

                        <!-- FAQ Item 2 -->
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingTwo">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                    data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                                    Can I change my delivery address after placing an order?
                                </button>
                            </h2>
                            <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo"
                                data-bs-parent="#faqAccordion">
                                <div class="accordion-body text-muted">
                                    Address changes are possible only *before* the order is dispatched. Contact support
                                    immediately to request a change. If the rider is already en route, the original
                                    delivery must be completed first.
                                </div>
                            </div>
                        </div>

                        <!-- FAQ Item 3 -->
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingThree">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                    data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                                    What if I receive a damaged or incorrect item?
                                </button>
                            </h2>
                            <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree"
                                data-bs-parent="#faqAccordion">
                                <div class="accordion-body text-muted">
                                    Contact support immediately with details and photos. We'll arrange a replacement or
                                    refund according to our policy. Please report these issues within the specified
                                    timeframe.
                                </div>
                            </div>
                        </div>

                        <!-- FAQ Item 4 -->
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingFour">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                    data-bs-target="#collapseFour" aria-expanded="false" aria-controls="collapseFour">
                                    How can I track my delivery?
                                </button>
                            </h2>
                            <div id="collapseFour" class="accordion-collapse collapse" aria-labelledby="headingFour"
                                data-bs-parent="#faqAccordion">
                                <div class="accordion-body text-muted">
                                    Use the Suivi app or website. Log in, go to "Orders," and select the order to see
                                    its real-time status and estimated delivery time. Contact support if you face
                                    tracking issues.
                                </div>
                            </div>
                        </div>

                        <!-- FAQ Item 5 -->
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingFive">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                    data-bs-target="#collapseFive" aria-expanded="false" aria-controls="collapseFive">
                                    What payment methods are accepted?
                                </button>
                            </h2>
                            <div id="collapseFive" class="accordion-collapse collapse" aria-labelledby="headingFive"
                                data-bs-parent="#faqAccordion">
                                <div class="accordion-body text-muted">
                                    We accept major credit/debit cards, popular digital wallets, and Mobile Money
                                    payments. Select your preferred method during checkout.
                                </div>
                            </div>
                        </div>

                        <!-- FAQ Item 6 -->
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingSix">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                    data-bs-target="#collapseSix" aria-expanded="false" aria-controls="collapseSix">
                                    Is there a minimum order amount for delivery?
                                </button>
                            </h2>
                            <div id="collapseSix" class="accordion-collapse collapse" aria-labelledby="headingSix"
                                data-bs-parent="#faqAccordion">
                                <div class="accordion-body text-muted">
                                    Minimum order amounts may apply depending on location and specific promotions. Any
                                    applicable minimum will be shown during the checkout process.
                                </div>
                            </div>
                        </div>

                    </div> {# End Accordion #}
                </div> {# End FAQ Container #}
            </div> {# End FAQ Column #}
        <!-- FAQ Search Section -->
        <div class="faq-search-container mt-5 pt-4 border-top"
             data-search-url="{{ url_for('main.support') }}"> {# <-- ADD URL HERE #}
            <h2 class="h4 mb-4 text-primary fw-bold">Still Have Questions?</h2>
            <p class="text-muted mb-3">Type keywords below to search our full FAQ database.</p>
            <div class="input-group mb-3">
                <input type="text" id="faq-search-input" class="form-control" placeholder="e.g., 'return policy', 'track order'" aria-label="Search FAQs" aria-describedby="faq-search-button">
                <button class="btn btn-outline-primary" type="button" id="faq-search-button">
                    <i class="fas fa-search me-1"></i> Search
                </button>
            </div>
            <!-- Area to display search results -->
            <div id="faq-search-results" class="mt-4" style="display: none;">
                <h5 class="mb-3">Search Results:</h5>
                <div id="search-results-list">
                    <!-- Search results will be injected here by JS -->
                </div>
                <p id="no-results-message" class="text-muted" style="display: none;">No matching FAQs found.</p>
            </div>
        </div> {# End FAQ Search Container #}

        </div> {# End FAQ Column #}
        </div> {# End Row #}

    </main>

    {% include 'footer.html'%}

    <!-- Bootstrap 5 JS Bundle -->
    <script src="{{ url_for('static', filename='js/support_faq.js') }}"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa"
        crossorigin="anonymous"></script>

</body>

</html>